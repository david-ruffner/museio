<!doctype html>

<html lang='en'>
    <head>
        <meta charset='utf-8'>

        <title>Muse.io Book Details</title>
        <meta name='description' content='Shows the user information and details about a specified book'>
        <meta name='author' content='David Ruffner'>

        <link rel="stylesheet" href="../resources/loading_container.css">
        <link rel='stylesheet' href='../css/common.css'>
        <link rel='stylesheet' href='../css/navbar.css'>
        <link rel='stylesheet' href='./css/book_detail.css'>

        <!-- Check for user token -->
        <script>
            // Try to get from session storage first
            let user_token = sessionStorage.getItem('museio_user_token');
            if (!user_token || user_token.length < 1) {
                // Try to get from local storage
                user_token = localStorage.getItem('museio_user_token');
                if (!user_token || user_token.length < 1) {
                    // Logout
                    location.replace('https://museio.davidr.pro'); 
                }
            }
        </script>
    </head>

    <body>
        <!-- <div id='loading_container'>
            <div id='loading_top_container'>
                <img src='../resources/icons/logo.png' class="product_logo" width='125'>
                <h2>Muse.<span>io</span></h2>
                <h1>Loading Your Book</h1>
                <img class='loading_gif' src='../resources/images/loading_gif.gif' width='250'/>
            </div>
        </div> -->
        <div id="book_detail_container">
            <div id="book_detail_title_container">
                <h1 id="book_detail_title">Schirmer's Library Sonatina Album For The Piano</h1>
                <h2 id="book_detail_artists">Schirmer</h2>
                <div id="book_detail_title_divider"></div>
            </div>
            <div id="book_detail_info_container">
                <img id="book_cover_photo" src="../resources/images/book_cover.png" width="225">
                <h1 id="book_total_pages_header">127 Pages</h1>
            </div>
            <div id='book_detail_no_results_toc_container'>
                <h1>This Book Has No Music In It</h1>
                <button id="book_add_music_button">Add Music</button>
            </div>
            <div id="book_detail_toc_container">
                <div id="toc_header_container">
                    <h1 class="toc_header">Table of Contents</h1>
                    <img class="sort_display_header_toggle collapse_icon_open" src="../resources/images/white_arrow.png" width="33"/>
                </div>
                <div class="toc_entry_header_container">
                    <h1>Song</h1>
                    <h1>Page Numbers</h1>
                    <h1>Options</h1>
                </div>
            </div>
        </div>

        <div id="pdf_view_background">
            <h1 id="pdf_loading_header">Loading</h1>
            <div id="pdf_controls_container">
                <h1>In</h1>
                <h1>Out</h1>
                <select>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                </select>
                <h1>Close</h1>
            </div>
            <div id="pdf_view_container">
                <canvas id="pdf_view"></canvas>
            </div>
        </div>

        <!-- jQuery CDN -->
        <script
        src='https://code.jquery.com/jquery-3.5.1.js'
        integrity='sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc='
        crossorigin='anonymous'></script>

        <script src="./js/pdf_base64.js"></script>

        <script src="../resources/pdf_js/build/pdf.js"></script>

        <script src='../resources/common.js'></script>
        <script src='../resources/navbar.js'></script>
        <script src='./js/book_detail.js'></script>
    </body>
</html>